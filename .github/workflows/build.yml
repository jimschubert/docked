name: Go Build
on:
  push:
    branches: 
      - 'main'
      - 'master'
      - 'releases/v*'
    tags:
      - 'v*'

permissions:
  contents: write
  packages: write

jobs: 
  build-and-publish:
    uses: jimschubert/.workflows/.github/workflows/go-build-goreleaser.yml@main
    with:
      go-version-file: go.mod
      golangci-lint-version: v2.7.2
      changelog-config:  .github/changelog.yml
    secrets: inherit
